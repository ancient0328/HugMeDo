# HugMeDo プロジェクト

## プロジェクト概要

HugMeDoは、コンテナ化モジュラーモノリスアーキテクチャを採用した医療情報システムです。主にビデオ通話機能（OHRモジュール）とチャット機能（Chatモジュール）を提供し、医療従事者と患者間のコミュニケーションを促進します。将来的にはメンタルヘルスチェック機能（HALCAモジュール）や医療記録管理（Hugmemoモジュール）も実装予定です。

## 技術スタック

- **フロントエンド**: SvelteKit 2, Svelte 5, TypeScript
- **バックエンド**: Node.js, Express
- **データベース**: PostgreSQL
- **認証**: Amazon Cognito
- **ビデオ通話**: Amazon Chime SDK
- **コンテナ化**: Docker, Docker Compose
- **クラウド**: AWS (ECS, RDS, Cognito, etc.)
- **CI/CD**: GitHub Actions

## システム構成図

```
┌─────────────────────────────────────────────────────────────────┐
│                      HugMeDo システム構成                        │
└─────────────────────────────────────────────────────────────────┘
                               │
           ┌──────────────────┴───────────────────┐
           ▼                                      ▼
┌─────────────────────┐              ┌─────────────────────────┐
│    フロントエンド    │              │      バックエンド       │
│  (SvelteKit/React)  │◄────────────►│  (Node.js/Express)     │
└─────────────────────┘              └─────────────────────────┘
                                                │
                      ┌───────────────────────┬─┴───────────────┐
                      ▼                       ▼                 ▼
          ┌─────────────────────┐ ┌─────────────────┐ ┌─────────────────┐
          │     コアモジュール   │ │   OHRモジュール  │ │  HALCAモジュール │
          │   (認証・DB・API)    │ │  (ビデオ通話)   │ │ (メンタルヘルス) │
          └─────────────────────┘ └─────────────────┘ └─────────────────┘
                      │                   │                   │
                      └───────────────────┴───────────────────┘
                                          │
                                          ▼
                      ┌─────────────────────────────────────┐
                      │           AWS クラウド              │
                      │  (ECS, RDS, Cognito, Chime SDK)    │
                      └─────────────────────────────────────┘
```

## プロジェクト構造

```
HugMeDo/
├── apps/              # アプリケーション
│   ├── web/           # Webアプリケーション（SvelteKit）
│   └── mobile/        # モバイルアプリケーション（SvelteKit + Capacitor）
│
├── modules/           # 機能モジュール
│   ├── api-gateway/   # APIゲートウェイ（認証実装を含む）
│   ├── ohr/           # ビデオ通話モジュール
│   ├── chat/          # チャットモジュール
│   └── halca/         # メンタルヘルスチェックモジュール（v1.1.0以降）
│
├── packages/          # 共有パッケージ
│   ├── core/          # コアライブラリ
│   ├── ui/            # UIコンポーネント
│   └── utils/         # ユーティリティ関数
│
├── tools/             # 開発・運用ツール
│   └── scripts/       # シェルスクリプトやユーティリティスクリプト
│
└── documents/         # プロジェクト文書（詳細は/documents/README.mdを参照）
```

## バージョニングシステム

- **v0.0.0**: 基盤構築フェーズ（コンテナ化モジュラーモノリスの基本構造）
- **v0.1.0**: コアモジュール実装フェーズ（OHRとChatモジュールの基本機能）
- **v0.2.0**: 機能拡張フェーズ（OHRとChatモジュールの拡張機能）
- **v0.3.0**: 統合・安定化フェーズ（システム全体の統合とテスト）
- **v1.0.0**: 本番リリースフェーズ（AWSへのデプロイと運用開始）
- **v1.1.0以降**: 拡張フェーズ（HALCAモジュール、Hugmemoモジュールなど）

## 開発環境のセットアップ

開発環境のセットアップ手順については、[/documents/manuals/developer/environment-setup.md](/documents/manuals/developer/environment-setup.md)を参照してください。

## ポート割り当て

- Web開発サーバー: 40000
- モバイル開発サーバー: 40010
- APIゲートウェイ: 40040
- モジュールサービス（`/modules`）:
  - OHRモジュール: 40100
  - Chatモジュール: 40110
  - HALCAモジュール: 40120（v1.1.0以降に実装予定）
  - Hugmemoモジュール: 40130（v1.1.0以降に実装予定）
  - 新規モジュール: 40140以降（10ずつ増加）
- Redis: 6379
- メトリクス＆モニタリング: 9090
- 各モジュール内の追加サービス: メインポート+1, +2, ...（例：OHR補助サービス = 40101, 40102, ...）
- カスタムサービス: 40500以降

## パッケージ管理

- **必須**: pnpmを使用
- **禁止**: npmやyarnの使用は不可
- グローバル依存関係は`-w`フラグで追加（`pnpm add -Dw typescript`）
- モジュール固有の依存関係はそれぞれのディレクトリで追加

## 開発ロードマップと文書

現在のプロジェクト進捗と今後の計画については、[/documents/project/log/project-roadmap.md](/documents/project/log/project-roadmap.md)を参照してください。

詳細な技術文書、マニュアル、学習リソースについては、[/documents/README.md](/documents/README.md)を参照してください。

## ライセンス

ISC

# HugMeDo プロジェクトロードマップ

## 文書情報

**文書番号**: ROADMAP-001 
**作成日**: 2025年03月21日
**作成者**: 古川和博
**ステータス**: ドラフト 
**最終更新日**: 2025年03月24日

## 1. プロジェクト概要

HugMeDoは、コンテナ化モジュラーモノリスアーキテクチャを採用した医療情報システムです。主にビデオ通話機能（OHRモジュール）とチャット機能（Chatモジュール）を提供し、医療従事者と患者間のコミュニケーションを促進します。

## 2. 開発フェーズとバージョニング

### v0.0.0: 基盤構築フェーズ（現在）
**目標**: コンテナ化モジュラーモノリスの基盤を確立する

#### マイルストーン
- [x] プロジェクトドキュメント構造の確立
- [x] アーキテクチャ設計の文書化
- [x] ポート割り当ての定義（40000番台）
- [x] API仕様の定義
- [x] SvelteKitプロジェクトの設定（Web/Mobile）
- [x] Capacitorの初期化（モバイルアプリ）
- [x] ドキュメント作成ガイドラインの整備
- [x] 文書テンプレートの作成
- [x] Svelte 5とSvelteKit 2の型定義システムの調査と分析
- [x] Svelte 5とSvelteKit 2への完全移行（サーバーサイドとクライアントサイドコード）
- [x] モバイルアプリの基本動作確認（SvelteKit開発環境とビルド）
- [x] インスタグラム風UIデザインの設計
- [x] UIコンポーネントパッケージの統合
- [x] ログイン画面のデザイン改善
- [ ] ダッシュボード（ハブ機能）のデザインと実装
- [ ] 認証・認可基盤の実装
- [ ] Docker Compose設定の完成
- [ ] APIゲートウェイ（ポート40040）の設定
- [ ] モニタリング・ロギング基盤の構築
- [ ] 環境変数管理（.env.example）の整備
- [ ] インスタグラム風UIデザインの実装（ストーリーバーナビゲーション）

### v0.1.0: コアモジュール実装フェーズ
**目標**: OHRモジュールとChatモジュールの基本機能を実装する

#### マイルストーン
- [ ] OHRモジュールの基本機能実装（ビデオ通話）
  - [ ] Amazon Chime SDKの統合
  - [ ] 通話画面のUI実装
  - [ ] 通話履歴管理
- [ ] Chatモジュールの基本機能実装（リアルタイムチャット）
  - [ ] Socket.IOの統合
  - [ ] チャットUI実装
  - [ ] メッセージ履歴管理
- [ ] ダッシュボードとOHR/Chatモジュールの統合
- [ ] ユーザープロファイル管理機能
- [ ] 基本的な通知システム
- [ ] モバイルアプリへのiOS/Androidプラットフォーム追加

### v0.2.0: 機能強化フェーズ
**目標**: OHRとChatモジュールの機能を拡張し、統合を強化する

#### マイルストーン
- [ ] OHRモジュールの機能拡張
  - [ ] 画面共有機能
  - [ ] 録画機能
  - [ ] 複数参加者のサポート
- [ ] Chatモジュールの機能拡張
  - [ ] ファイル添付機能
  - [ ] 既読確認機能
  - [ ] メッセージ検索機能
- [ ] ダッシュボードの機能拡張
  - [ ] カスタマイズ可能なウィジェット
  - [ ] データ可視化
  - [ ] ユーザー活動の概要表示
- [ ] ユーザーロールに基づくアクセス制御の強化
- [ ] 通知システムの拡張
- [ ] モバイルアプリの機能強化

### v0.3.0: 統合・安定化フェーズ
**目標**: システム全体の統合、テスト、安定化を行う

#### マイルストーン
- [ ] 総合的なテスト
- [ ] パフォーマンス最適化
- [ ] セキュリティ強化
- [ ] ドキュメント整備
- [ ] バグ修正と安定化
- [ ] CI/CDパイプラインの構築

### v1.0.0: 本番リリースフェーズ
**目標**: 本番環境へのデプロイと初期運用を開始する

#### マイルストーン
- [ ] AWSへのデプロイ準備
  - [ ] ECSクラスターの設定
  - [ ] RDSデータベースの設定
  - [ ] ElastiCacheの設定
- [ ] セキュリティ監査と対策
- [ ] 負荷テストと最適化
- [ ] 運用マニュアルの作成
- [ ] 本番環境へのデプロイ
- [ ] 初期ユーザーのオンボーディング

### v1.1.0以降: 拡張フェーズ
**目標**: 新機能の追加と既存機能の強化

#### 予定されている機能
- [ ] HALCAモジュール（メンタルヘルスチェック）の実装
- [ ] Hugmemoモジュール（医療記録管理）の実装
- [ ] 予約システムの実装
- [ ] 分析ダッシュボードの強化
- [ ] AIによる診断支援機能の検討

## 3. 機能ロードマップ

### コア機能

| 機能 | 優先度 | 状態 | 予定バージョン |
|------|-------|------|------------|
| ユーザー登録・認証 | 高 | 計画中 | v0.0.0 |
| ユーザーロール管理 | 高 | 計画中 | v0.0.0 |
| ダッシュボード | 高 | 計画中 | v0.0.0 |
| 通知システム | 中 | 計画中 | v0.0.0 |
| 管理者機能 | 中 | 計画中 | v0.0.0 |

### OHRモジュール（ビデオ通話）

| 機能 | 優先度 | 状態 | 予定バージョン |
|------|-------|------|------------|
| 1対1ビデオ通話 | 高 | 計画中 | v0.0.0 |
| 画面共有 | 中 | 計画中 | v0.0.0 |
| 通話録画 | 中 | 計画中 | v0.0.0 |
| 待合室機能 | 中 | 計画中 | v0.0.0 |
| 複数人会議 | 低 | 計画中 | v0.0.0 |

### Chatモジュール

| 機能 | 優先度 | 状態 | 予定バージョン |
|------|-------|------|------------|
| リアルタイムチャット | 高 | 計画中 | v0.0.0 |
| メッセージ履歴 | 高 | 計画中 | v0.0.0 |
| ファイル共有 | 中 | 計画中 | v0.0.0 |
| 既読確認 | 中 | 計画中 | v0.0.0 |
| グループチャット | 低 | 計画中 | v0.0.0 |

## 4. 将来の拡張計画

### v0.0.0以降の拡張モジュール

| モジュール | 概要 | 優先度 | 予定時期 |
|----------|------|-------|---------|
| HALCAモジュール | メンタルヘルスチェック（伊勢方言対応） | 中 | v1.1.0 |
| Hugmemoモジュール | 医療記録管理 | 中 | v1.1.0 |
| 予約システム | 診察予約管理 | 低 | v1.1.0 |
| 分析ダッシュボード | データ分析・可視化 | 低 | v1.1.0 |

## 5. 技術負債と改善計画

| 項目 | 説明 | 優先度 | 対応予定 |
|------|------|-------|---------|
| Svelte 5イベント構文 | `on:event`から`onevent`への構文変換 | 高 | v0.0.0 |
| SvelteKit 2型定義 | `./$types`からの型インポートの最適化 | 高 | v0.0.0 |
| テスト自動化 | ユニットテストとE2Eテストの自動化 | 高 | v0.0.0 |
| パフォーマンス最適化 | 初期ロード時間とAPI応答時間の改善 | 中 | v0.0.0 |
| コード品質 | リファクタリングとコード品質向上 | 中 | 継続的 |
| ドキュメント更新 | APIドキュメントの自動生成と更新 | 中 | v0.0.0 |

## 6. リスク管理

| リスク | 影響度 | 発生確率 | 対策 |
|-------|-------|---------|------|
| 開発遅延 | 高 | 中 | スコープの明確化、優先順位付け、週次進捗確認 |
| コンテナ化の複雑さ | 中 | 高 | 早期プロトタイピング、Docker専門家の活用 |
| セキュリティ脆弱性 | 高 | 低 | セキュリティレビュー、定期的な脆弱性スキャン |
| スケーラビリティ問題 | 中 | 低 | 負荷テスト、モニタリング、コンテナリソースの適切な設計 |

## 7. インフラストラクチャ計画

### 開発環境

| コンポーネント | ポート | 技術スタック |
|--------------|------|-------------|
| Web開発サーバー | 40000 | Next.js |
| モバイル開発サーバー | 40010 | React Native |
| APIゲートウェイ | 40040 | Express.js |
| OHRモジュール | 40100 | Amazon Chime SDK, Express.js |
| Chatモジュール | 40110 | Socket.IO, Express.js |
| データベース | 内部 | PostgreSQL |
| Redis | 内部 | Redis |

### 本番環境（AWS）

| サービス | 用途 |
|---------|------|
| ECS/Fargate | コンテナオーケストレーション |
| RDS | データベース |
| ElastiCache | キャッシュ・セッション管理 |
| S3 | ファイルストレージ |
| CloudFront | CDN |
| Cognito | 認証・認可 |
| CloudWatch | モニタリング・ロギング |

## 8. チーム構成と役割

| 役割 | 人数 | 主な責任 |
|------|------|---------|
| プロジェクトマネージャー | 1 | 全体調整、進捗管理 |
| フロントエンド開発者 | 2 | UI/UX実装、クライアントサイド開発 |
| バックエンド開発者 | 2 | API実装、データベース設計 |
| DevOps エンジニア | 1 | コンテナ化、CI/CD、監視 |
| QAエンジニア | 1 | テスト計画、品質保証 |

## 9. 予算計画

| 項目 | 予算（円） | 備考 |
|------|----------|------|
| 人件費 | 12,000,000 | 開発チーム（4ヶ月） |
| AWSインフラ | 1,000,000 | 年間予測コスト |
| 外部サービス | 600,000 | Chime SDK, Socket.IO Pro等 |
| ツール・ライセンス | 400,000 | 開発ツール、監視ツール等 |
| 予備費 | 1,500,000 | 不測の事態に対応 |
| **合計** | **15,500,000** | |

## 10. 定期的な見直し

このロードマップは以下のタイミングで定期的に見直しを行います：

- 各バージョンのリリース時
- 主要マイルストーン達成時
- 重大な課題発生時
- 月次レビュー

---

*このロードマップは、HugMeDoプロジェクトの開発計画を示すものです。プロジェクトの進行に伴い、必要に応じて更新されます。*

最終更新: 2025-03-24

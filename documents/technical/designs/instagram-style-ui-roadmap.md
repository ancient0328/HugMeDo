# インスタグラム風UIデザイン マイクロロードマップ

## 概要

本ドキュメントはHugMeDoプロジェクトにおけるインスタグラム風UIデザインの実装計画を詳細に記述したマイクロロードマップです。ストーリーバーによるモジュールナビゲーションを特徴とし、OHR混雑状況表示とLINE風チャットインターフェースを中心に構成されます。

## 設計原則

### デザイン原則
- **シンプルさ**: 必要最小限の要素で最大限の機能性を提供
- **一貫性**: すべてのモジュールで統一されたデザイン言語を使用
- **直感性**: ユーザーが迷わず操作できるインターフェース
- **医療向け信頼性**: 医療システムとしての信頼感と専門性の表現

### カラーパレット
- **プライマリカラー**: #2E7D32（深緑）- 信頼と安心感
- **セカンダリカラー**: #FF8F00（アンバー）- アクションと注意喚起
- **アクセントカラー**: #0288D1（青）- 情報と補助的要素
- **ニュートラル**: #F5F5F5〜#212121（グレースケール）- 背景と文字

## コンポーネント構造

```
packages/ui/
  ├── components/
  │   ├── navigation/
  │   │   └── StoryBar.svelte       # ストーリーバーコンポーネント
  │   ├── ohr/
  │   │   └── CrowdStatus.svelte    # OHR混雑状況コンポーネント
  │   └── chat/
  │       └── ChatInterface.svelte   # チャットインターフェースコンポーネント
  └── layouts/
      └── MainLayout.svelte         # 共通レイアウト（ストーリーバー含む）
```

## 実装フェーズ

### フェーズ1: 基盤構築（1週目）

#### 目標
- 基本コンポーネント構造の確立
- デザインシステムの構築
- プロトタイプの作成

#### タスク
1. **デザイントークンの定義**
   - TailwindCSS設定ファイルのカスタマイズ
   - カラーパレット、スペーシング、タイポグラフィの定義
   - 優先度: 高
   - 担当: UIデザイナー、フロントエンド開発者
   - 期間: 1日

2. **ストーリーバーコンポーネントの実装**
   - モジュールアイコンとラベルの表示
   - 横スクロール機能
   - アクティブモジュールの視覚的強調
   - 優先度: 高
   - 担当: フロントエンド開発者
   - 期間: 2日

3. **メインレイアウトコンポーネントの実装**
   - ストーリーバーの固定表示
   - コンテンツエリアの設定
   - レスポンシブ対応
   - 優先度: 高
   - 担当: フロントエンド開発者
   - 期間: 1日

4. **基本的なナビゲーション機能の実装**
   - モジュール間の切り替え
   - 状態の保持
   - 優先度: 中
   - 担当: フロントエンド開発者
   - 期間: 2日

### フェーズ2: コアモジュール実装（2週目）

#### 目標
- OHR混雑状況画面の実装
- チャットインターフェースの実装
- 基本的なデータ連携

#### タスク
1. **OHR混雑状況コンポーネントの実装**
   - リアルタイム混雑状況の視覚化
   - 待機人数、推定待ち時間の表示
   - 医師の状態表示
   - 通話開始ボタン
   - 優先度: 高
   - 担当: フロントエンド開発者
   - 期間: 3日

2. **チャットインターフェースコンポーネントの実装**
   - LINE風メッセージ表示
   - メッセージ入力エリア
   - 送信機能
   - 添付ファイル機能
   - 優先度: 高
   - 担当: フロントエンド開発者
   - 期間: 3日

3. **APIとの連携**
   - OHRモジュールAPIとの連携
   - チャットモジュールAPIとの連携
   - 優先度: 中
   - 担当: フロントエンド開発者、バックエンド開発者
   - 期間: 2日

### フェーズ3: 拡張と最適化（3週目）

#### 目標
- 追加モジュールの実装
- パフォーマンス最適化
- アクセシビリティ対応

#### タスク
1. **HALCAモジュール画面の実装**
   - メンタルヘルスチェック機能
   - 結果表示
   - 優先度: 中
   - 担当: フロントエンド開発者
   - 期間: 3日

2. **Hugmemoモジュール画面の実装**
   - 医療記録表示
   - 検索機能
   - 優先度: 中
   - 担当: フロントエンド開発者
   - 期間: 3日

3. **パフォーマンス最適化**
   - コンポーネントの遅延読み込み
   - 画像の最適化
   - 優先度: 低
   - 担当: フロントエンド開発者
   - 期間: 2日

4. **アクセシビリティ対応**
   - ARIAラベルの追加
   - キーボードナビゲーション
   - スクリーンリーダー対応
   - 優先度: 低
   - 担当: フロントエンド開発者
   - 期間: 2日

### フェーズ4: 洗練と完成（4週目）

#### 目標
- ユーザーテストフィードバックの反映
- アニメーションとトランジションの追加
- 最終調整

#### タスク
1. **ユーザーテストとフィードバック収集**
   - 内部テスト
   - フィードバック分析
   - 優先度: 高
   - 担当: UIデザイナー、テスター
   - 期間: 2日

2. **アニメーションとトランジションの追加**
   - 画面遷移アニメーション
   - インタラクションフィードバック
   - 優先度: 低
   - 担当: フロントエンド開発者
   - 期間: 2日

3. **最終調整**
   - バグ修正
   - デザイン調整
   - 優先度: 高
   - 担当: フロントエンド開発者、UIデザイナー
   - 期間: 3日

4. **ドキュメント更新**
   - コンポーネント使用ガイド
   - デザインシステムドキュメント
   - 優先度: 中
   - 担当: ドキュメント担当者
   - 期間: 1日

## 技術スタック

- **フロントエンドフレームワーク**: SvelteKit 2.x
- **UIライブラリ**: Svelte 5.x（Runes構文）
- **スタイリング**: TailwindCSS 4.x
- **UIコンポーネント**: Skeleton UI または Flowbite Svelte
- **アイコン**: Material Symbols
- **状態管理**: Svelte 5 $state と $derived

## 画面モックアップ

### ストーリーバー（モジュールナビゲーション）

```
+-------+  +-------+  +-------+  +-------+  +-------+
|   🏥   |  |   💬   |  |   🧠   |  |   📋   |  |   ⚙️   |
+-------+  +-------+  +-------+  +-------+  +-------+
|  OHR   |  | チャット |  | HALCA |  |Hugmemo|  | 設定  |
+-------+  +-------+  +-------+  +-------+  +-------+
   ↑
 アクティブ
```

### OHR混雑状況画面

```
+----------------------------------------------------------+
| [ストーリーバー]                                           |
+----------------------------------------------------------+
| オンライン診療                                             |
|                                                          |
| +------------------------------------------------------+ |
| |                  現在の混雑状況                        | |
| |                                                      | |
| | 待機人数: 5人                    推定待ち時間: 15分     | |
| +------------------------------------------------------+ |
|                                                          |
| +------------------------------------------------------+ |
| | 山田医師: 対応中 (残り約8分)                            | |
| | 佐藤医師: 待機中                                       | |
| | 田中医師: 休憩中 (残り約10分)                           | |
| +------------------------------------------------------+ |
|                                                          |
| +------------------------------------------------------+ |
| |              [今すぐ通話を開始]                        | |
| +------------------------------------------------------+ |
+----------------------------------------------------------+
```

### チャット画面

```
+----------------------------------------------------------+
| [ストーリーバー]                                           |
+----------------------------------------------------------+
| 山田医師                                オンライン          |
+----------------------------------------------------------+
|                                                          |
|                                                          |
| こんにちは。どのようなご相談でしょうか？                     |
|                                       14:30              |
|                                                          |
|                   昨日から咳が止まらないのですが、          |
|                   何か良い対処法はありますか？             |
|                                       14:31              |
|                                                          |
| 症状の詳細を教えていただけますか？熱はありますか？           |
|                                       14:32              |
|                                                          |
|                                                          |
+----------------------------------------------------------+
| [+]  [メッセージを入力...]                       [送信]    |
+----------------------------------------------------------+
```

## リスクと対策

1. **パフォーマンスリスク**
   - リスク: ストーリーバーのスクロールが重くなる可能性
   - 対策: 仮想スクロールの実装、画像の最適化

2. **互換性リスク**
   - リスク: 古いブラウザでの動作保証
   - 対策: ポリフィルの導入、フォールバックUIの用意

3. **アクセシビリティリスク**
   - リスク: 視覚的なナビゲーションが障害者にとって使いにくい
   - 対策: キーボードショートカット、ARIAラベル、高コントラストモードの提供

## 成功指標

1. **ユーザビリティ指標**
   - タスク完了時間の20%削減
   - ユーザーエラー率の30%削減

2. **パフォーマンス指標**
   - First Contentful Paint: 1.5秒以下
   - Time to Interactive: 3秒以下

3. **満足度指標**
   - ユーザー満足度スコア: 4.5/5以上
   - NPS (Net Promoter Score): 40以上

## 結論

このマイクロロードマップに従って実装を進めることで、HugMeDoアプリケーションはより直感的で使いやすいインターフェースを獲得し、ユーザー体験の大幅な向上が期待されます。インスタグラム風のストーリーバーナビゲーションとLINE風のチャットインターフェースは、ユーザーにとって馴染みのあるデザインパターンを採用することで、学習コストを最小限に抑えつつ、モダンで洗練されたUIを実現します。

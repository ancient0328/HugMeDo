# 技術ドキュメント構造ガイドライン

**文書番号**: GUIDE-META-001-JA  
**作成日**: 2025年03月23日  
**作成者**: HugMeDoプロジェクト開発チーム  
**ステータス**: 正式版  
**バージョン**: 1.0.0

## 目次

1. [はじめに](#はじめに)
2. [ドキュメント階層構造](#ドキュメント階層構造)
3. [ファイル命名規則](#ファイル命名規則)
4. [ドキュメント形式](#ドキュメント形式)
5. [ハブドキュメントの作成](#ハブドキュメントの作成)
6. [子ドキュメントの作成](#子ドキュメントの作成)
7. [多言語対応](#多言語対応)
8. [メンテナンスガイドライン](#メンテナンスガイドライン)

## はじめに

本ガイドラインは、HugMeDoプロジェクトにおける技術ドキュメントの作成・管理方法を定義します。系統立てられた一貫性のあるドキュメント群を作成するための標準的な手順と構造を提供します。

## ドキュメント階層構造

ドキュメントは以下の階層構造に従って整理します：

```
documents/
├── guides/                         # 技術ガイド
│   ├── [topic-name]/               # トピック別ディレクトリ
│   │   ├── index.md                # トピックのハブドキュメント
│   │   ├── [subtopic-1]/           # サブトピックディレクトリ
│   │   │   ├── index.md            # サブトピックのハブドキュメント
│   │   │   ├── [content-1].md      # 個別コンテンツ
│   │   │   └── [content-2].md      # 個別コンテンツ
│   │   └── [subtopic-2]/           # 別のサブトピックディレクトリ
│   │       └── ...
│   └── [another-topic]/            # 別のトピックディレクトリ
│       └── ...
├── api/                            # API仕様書
│   └── ...
├── architecture/                   # アーキテクチャドキュメント
│   └── ...
└── log/                            # 開発ログ
    └── ...
```

### 階層の深さ

- **最大3階層まで**を推奨（トピック > サブトピック > コンテンツ）
- 必要に応じて4階層目（サブサブトピック）も許容

### ディレクトリ分割の基準

以下の条件を満たす場合、新しいディレクトリを作成します：

1. 関連するドキュメントが5つ以上ある場合
2. 特定のサブトピックが明確に独立している場合
3. 将来的に拡張される可能性が高い領域

## ファイル命名規則

### ディレクトリ名

- 小文字のケバブケース（例: `svelte5-sveltekit2`）
- 簡潔かつ内容を表す名前
- 数字やバージョン番号を含める場合は、末尾に配置（例: `react-guide-v18`）

### ファイル名

- 小文字のケバブケース（例: `component-lifecycle.md`）
- 言語識別子をサフィックスとして追加（例: `component-lifecycle-ja.md`）
- インデックスファイルは `index.md` または `index-ja.md`
- 順序付けが必要な場合は、2桁の数字プレフィックスを使用（例: `01-introduction.md`）

## ドキュメント形式

各ドキュメントは以下の標準形式に従います：

### 1. ヘッダー

```markdown
# ドキュメントタイトル

**文書番号**: GUIDE-XXX-YY-ZZ  
**作成日**: YYYY年MM月DD日  
**作成者**: 作成者名  
**ステータス**: [ドラフト|レビュー中|正式版]  
**バージョン**: X.Y.Z
```

#### 文書番号の形式

- `GUIDE`: ドキュメントタイプ（GUIDE, API, ARCH, LOG）
- `XXX`: トピック識別子（3桁の数字）
- `YY`: サブトピック識別子（2桁の数字または略語）
- `ZZ`: ドキュメント識別子（2桁の数字または略語）

### 2. 目次

```markdown
## 目次

1. [セクション1](#セクション1)
   1. [サブセクション1.1](#サブセクション11)
   2. [サブセクション1.2](#サブセクション12)
2. [セクション2](#セクション2)
   1. [サブセクション2.1](#サブセクション21)
```

### 3. 本文

- 見出しは階層的に構造化（`#`, `##`, `###`）
- コードブロックには言語識別子を指定（例: ```javascript）
- 表や箇条書きを適切に使用
- 図表には説明文を追加

### 4. 参考資料

```markdown
## 参考資料

- [リソース名](URL)
- [関連ドキュメント](相対パス)
```

## ハブドキュメントの作成

各トピックとサブトピックには、ハブドキュメント（`index.md`）を作成します。ハブドキュメントは以下の要素を含みます：

1. **概要**: トピックの簡潔な説明
2. **ドキュメント構造**: 含まれるドキュメントの一覧と簡単な説明
3. **ナビゲーションリンク**: 子ドキュメントへのリンク
4. **関連リソース**: 外部リソースや関連トピックへのリンク

### ハブドキュメントの例

```markdown
# Svelte 5 + SvelteKit 2 テストガイド

**文書番号**: GUIDE-001-JA-P3-TEST  
**作成日**: 2025年03月23日  
**作成者**: HugMeDoプロジェクト開発チーム  
**ステータス**: 正式版  
**バージョン**: 1.0.0

## 概要

このセクションでは、Svelte 5とSvelteKit 2アプリケーションのテスト方法について詳細に解説します。単体テスト、統合テスト、エンドツーエンドテストの各手法をカバーし、実践的な例を提供します。

## ドキュメント構造

本テストガイドは以下のセクションで構成されています：

1. **単体テスト**: コンポーネントや関数の個別テスト
2. **統合テスト**: 複数のコンポーネントや機能の連携テスト
3. **E2Eテスト**: ユーザーの視点からのアプリケーション全体のテスト
4. **テスト自動化**: CI/CDパイプラインとの統合
5. **テスト戦略**: 効果的なテスト計画の立案

## コンテンツ

### 単体テスト
- [単体テスト基礎](./unit-testing/basics.md) - テストフレームワークの設定と基本的な書き方
- [コンポーネントテスト](./unit-testing/component-testing.md) - Svelteコンポーネントのテスト方法
- [ユーティリティ関数テスト](./unit-testing/utility-testing.md) - ヘルパー関数のテスト方法
- [ストアテスト](./unit-testing/store-testing.md) - Svelteストアのテスト方法

### 統合テスト
- [統合テスト基礎](./integration-testing/basics.md) - 統合テストの概要と環境設定
- [ページとレイアウトテスト](./integration-testing/page-layout-testing.md) - ページコンポーネントのテスト
- [サーバー関数テスト](./integration-testing/server-functions-testing.md) - load関数とアクションのテスト
- [ルーティングテスト](./integration-testing/routing-testing.md) - ナビゲーションとルーティングのテスト

### E2Eテスト
- [E2Eテスト基礎](./e2e-testing/basics.md) - Playwrightの設定と基本的な使い方
- [ユーザーフローテスト](./e2e-testing/user-flow-testing.md) - 一般的なユーザーシナリオのテスト
- [APIインテグレーションテスト](./e2e-testing/api-integration-testing.md) - 外部APIとの連携テスト

## 関連リソース

- [Svelte 5公式ドキュメント](https://svelte.dev/docs)
- [SvelteKit 2公式ドキュメント](https://kit.svelte.dev/docs)
- [Vitest](https://vitest.dev/)
- [Playwright](https://playwright.dev/)
```

## 子ドキュメントの作成

子ドキュメントは特定のトピックに焦点を当て、以下の原則に従います：

1. **単一の責任**: 各ドキュメントは1つのトピックに集中
2. **適切な長さ**: 1ファイルあたり1,000〜3,000単語を目安に
3. **自己完結性**: 他のドキュメントを読まなくても理解できるように
4. **相互参照**: 関連する他のドキュメントへのリンクを含める

### 子ドキュメントの分割基準

以下の場合、ドキュメントを分割します：

1. 複数の独立したサブトピックがある
2. ドキュメントが3,000単語を超える
3. 異なるレベルの詳細さが必要（基本と高度なトピックなど）
4. 異なる対象読者がいる（開発者、デザイナー、管理者など）

## 多言語対応

多言語ドキュメントは以下の規則に従います：

1. **ファイル命名**: 言語識別子をサフィックスとして追加（例: `-ja`, `-en`）
2. **ディレクトリ構造**: 言語ごとに別のディレクトリは作成せず、同じディレクトリ内に配置
3. **相互参照**: 各言語版には他の言語版へのリンクを含める
4. **同期**: 内容の更新時は全ての言語版を同期して更新

### 言語識別子

- 日本語: `-ja`
- 英語: `-en`（または省略可）
- その他の言語: ISO 639-1コードを使用

## メンテナンスガイドライン

ドキュメントの品質を維持するための指針：

1. **定期的なレビュー**: 少なくとも四半期に1回はドキュメントをレビュー
2. **バージョン管理**: ドキュメントのバージョンを明記し、変更履歴を記録
3. **廃止マーキング**: 古くなったドキュメントには廃止予定マークを付ける
4. **リンク検証**: 定期的に内部・外部リンクの有効性を確認
5. **フィードバック収集**: ドキュメントの改善のためのフィードバック機構を設ける

### 変更履歴の記録

重要な変更がある場合は、ドキュメント末尾に変更履歴を追加：

```markdown
## 変更履歴

| バージョン | 日付 | 変更内容 | 変更者 |
|------------|------|----------|--------|
| 1.0.0 | 2025-03-23 | 初版作成 | 開発チーム |
| 1.1.0 | 2025-04-15 | APIセクション追加 | 山田太郎 |
```

## 最終チェックリスト

ドキュメント公開前の確認事項：

- [ ] 文書番号と日付が正確
- [ ] 目次が内容と一致
- [ ] リンクが正常に機能
- [ ] コードサンプルが正確
- [ ] 文法と表記の一貫性
- [ ] 画像やダイアグラムが適切
- [ ] 参考資料が最新
- [ ] 多言語版が同期している
